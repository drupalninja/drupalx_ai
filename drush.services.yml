services:
  drupalx_ai.paragraph_importer:
    class: \Drupal\drupalx_ai\Service\ParagraphImporterService
    arguments:
      - '@config.factory'
      - '@entity_type.manager'
      - '@logger.factory'
      - '@file_system'
      - '@graphql_compose_fragments.manager'

  drupalx_ai.anthropic_api:
    class: \Drupal\drupalx_ai\Service\AnthropicApiService
    arguments: ['@http_client_factory', '@config.factory', '@logger.factory']

  drupalx_ai.component_reader:
    class: \Drupal\drupalx_ai\Service\ComponentReaderService
    arguments: ['@logger.factory']

  drupalx_ai.storybook_generator:
    class: \Drupal\drupalx_ai\Service\StorybookGeneratorService
    arguments: ['@logger.factory', '@drupalx_ai.anthropic_api']

  drupalx_ai.cypress_generator:
    class: \Drupal\drupalx_ai\Service\CypressGeneratorService
    arguments: ['@logger.factory', '@drupalx_ai.anthropic_api']

  drupalx_ai.import_paragraph_type_commands:
    class: \Drupal\drupalx_ai\Commands\ImportParagraphTypeCommands
    arguments:
      - '@config.factory'
      - '@drupalx_ai.paragraph_importer'
      - '@logger.factory'
      - '@drupalx_ai.anthropic_api'
      - '@drupalx_ai.component_reader'
    tags:
      - { name: drush.command }

  drupalx_ai.generate_storybook_commands:
    class: \Drupal\drupalx_ai\Commands\GenerateStorybookCommands
    arguments:
      - '@config.factory'
      - '@logger.factory'
      - '@drupalx_ai.anthropic_api'
      - '@drupalx_ai.component_reader'
      - '@drupalx_ai.storybook_generator'
    tags:
      - { name: drush.command }

  drupalx_ai.generate_cypress_commands:
    class: \Drupal\drupalx_ai\Commands\GenerateCypressCommands
    arguments:
      - '@config.factory'
      - '@logger.factory'
      - '@drupalx_ai.anthropic_api'
      - '@drupalx_ai.component_reader'
      - '@drupalx_ai.cypress_generator'
    tags:
      - { name: drush.command }

  drupalx_ai.paragraph_structure:
    class: \Drupal\drupalx_ai\Service\ParagraphStructureService
    arguments: ['@entity_type.manager', '@entity_field.manager']

  drupalx_ai.mock_landing_page:
    class: \Drupal\drupalx_ai\Service\MockLandingPageService
    arguments:
      - '@entity_type.manager'
      - '@file_system'
      - '@http_client'
      - '@logger.factory'
      - '@drupalx_ai.paragraph_structure'
      - '@config.factory'

